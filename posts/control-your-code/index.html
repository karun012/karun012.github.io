<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Control your code | Karun Ramakrishnan</title>
<meta name=keywords content="programming"><meta name=description content="One of the things I strive for is to have full control over things that I can actually control. Life, emotions and even the code I write for a living. There will be things in life that are out of your control, so don&rsquo;t worry about those.
In the nine odd years of software engineering that I have done, I have learned to use feature toggles for code branch control. Yes, I&rsquo;m talking about dynamically controlling which code gets executed in production using an incredibly simple technique. I have used this in a lot of personal projects, too. It works!"><meta name=author content="Karun Ramakrishnan"><link rel=canonical href=https://www.karun.dev/posts/control-your-code/><link crossorigin=anonymous href=https://www.karun.dev/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://www.karun.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.karun.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://www.karun.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://www.karun.dev/apple-touch-icon.png><link rel=mask-icon href=https://www.karun.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.karun.dev/posts/control-your-code/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://www.karun.dev/posts/control-your-code/"><meta property="og:site_name" content="Karun Ramakrishnan"><meta property="og:title" content="Control your code"><meta property="og:description" content="One of the things I strive for is to have full control over things that I can actually control. Life, emotions and even the code I write for a living. There will be things in life that are out of your control, so don’t worry about those.
In the nine odd years of software engineering that I have done, I have learned to use feature toggles for code branch control. Yes, I’m talking about dynamically controlling which code gets executed in production using an incredibly simple technique. I have used this in a lot of personal projects, too. It works!"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-23T16:00:00-07:00"><meta property="article:modified_time" content="2021-12-23T16:00:00-07:00"><meta property="article:tag" content="Programming"><meta name=twitter:card content="summary"><meta name=twitter:title content="Control your code"><meta name=twitter:description content="One of the things I strive for is to have full control over things that I can actually control. Life, emotions and even the code I write for a living. There will be things in life that are out of your control, so don&rsquo;t worry about those.
In the nine odd years of software engineering that I have done, I have learned to use feature toggles for code branch control. Yes, I&rsquo;m talking about dynamically controlling which code gets executed in production using an incredibly simple technique. I have used this in a lot of personal projects, too. It works!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.karun.dev/posts/"},{"@type":"ListItem","position":2,"name":"Control your code","item":"https://www.karun.dev/posts/control-your-code/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Control your code","name":"Control your code","description":"One of the things I strive for is to have full control over things that I can actually control. Life, emotions and even the code I write for a living. There will be things in life that are out of your control, so don\u0026rsquo;t worry about those.\nIn the nine odd years of software engineering that I have done, I have learned to use feature toggles for code branch control. Yes, I\u0026rsquo;m talking about dynamically controlling which code gets executed in production using an incredibly simple technique. I have used this in a lot of personal projects, too. It works!\n","keywords":["programming"],"articleBody":"One of the things I strive for is to have full control over things that I can actually control. Life, emotions and even the code I write for a living. There will be things in life that are out of your control, so don’t worry about those.\nIn the nine odd years of software engineering that I have done, I have learned to use feature toggles for code branch control. Yes, I’m talking about dynamically controlling which code gets executed in production using an incredibly simple technique. I have used this in a lot of personal projects, too. It works!\nThis is a very simple example -\nval featureIsOn = \u003ccheck if feature is on in the database via a cache or whatever\u003e if (featureIsOn) { //Do things the new way } else { //Do things the old way } It is incredibly simple to do. All you need is a common database that all your services have access to, a little table of feature toggles - name and boolean columns, a stupid map that is thread safe to hold your features in memory and a thread that refreshes that map (of course you can just use whatever cache you are already using. I’m just keeping everything simple and under my control). You can throw a UI in front of all this to turn things off and on. Toggles accumulate over time and you just clean them up once you’ve turned them on in production and you’re happy with it.\nLater on in life you can go fancy and build more complex feature toggling capabilities.\nSave yourself from sleepless nights and use feature toggles.\n","wordCount":"274","inLanguage":"en","datePublished":"2021-12-23T16:00:00-07:00","dateModified":"2021-12-23T16:00:00-07:00","author":{"@type":"Person","name":"Karun Ramakrishnan"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.karun.dev/posts/control-your-code/"},"publisher":{"@type":"Organization","name":"Karun Ramakrishnan","logo":{"@type":"ImageObject","url":"https://www.karun.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.karun.dev/ accesskey=h title="Karun Ramakrishnan (Alt + H)">Karun Ramakrishnan</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.karun.dev/posts/ title=Blog><span>Blog</span></a></li><li><a href=https://www.karun.dev/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://www.karun.dev/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.karun.dev/>Home</a>&nbsp;»&nbsp;<a href=https://www.karun.dev/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Control your code</h1><div class=post-meta><span title='2021-12-23 16:00:00 -0700 -0700'>December 23, 2021</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;274 words&nbsp;·&nbsp;Karun Ramakrishnan</div></header><div class=post-content><p>One of the things I strive for is to have full control over things that I can actually control. Life, emotions and even the code I write for a living. There will be things in life that are out of your control, so don&rsquo;t worry about those.</p><p>In the nine odd years of software engineering that I have done, I have learned to use feature toggles for code branch control. Yes, I&rsquo;m talking about dynamically controlling which code gets executed in production using an incredibly simple technique. I have used this in a lot of personal projects, too. It works!</p><p>This is a very simple example -</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#ff7b72>val</span> featureIsOn <span style=color:#ff7b72>=</span> <span style=color:#ff7b72;font-weight:700>&lt;</span>check <span style=color:#ff7b72>if</span> feature is on in the database via a cache or whatever<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>if</span> <span style=color:#ff7b72;font-weight:700>(</span>featureIsOn<span style=color:#ff7b72;font-weight:700>)</span> <span style=color:#ff7b72;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>//Do things the new way
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72;font-weight:700>}</span> <span style=color:#ff7b72>else</span> <span style=color:#ff7b72;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>//Do things the old way
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72;font-weight:700>}</span>
</span></span></code></pre></div><p>It is incredibly simple to do. All you need is a common database that all your services have access to, a little table of feature toggles - name and boolean columns, a stupid map that is thread safe to hold your features in memory and a thread that refreshes that map (of course you can just use whatever cache you are already using. I&rsquo;m just keeping everything simple and under my control). You can throw a UI in front of all this to turn things off and on. Toggles accumulate over time and you just clean them up once you&rsquo;ve turned them on in production and you&rsquo;re happy with it.</p><p>Later on in life you can go fancy and build more complex feature toggling capabilities.</p><p>Save yourself from sleepless nights and use feature toggles.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.karun.dev/tags/programming/>Programming</a></li></ul><nav class=paginav><a class=prev href=https://www.karun.dev/posts/what-i-understood-from-the-movie-rrr/><span class=title>« Prev</span><br><span>What I understood from the movie - RRR</span>
</a><a class=next href=https://www.karun.dev/posts/eight-years-of-scala/><span class=title>Next »</span><br><span>Eight years of Scala</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://www.karun.dev/>Karun Ramakrishnan</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>