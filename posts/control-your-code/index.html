<!doctype html><html lang=en-us class=scroll-smooth><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Full Stack Software Engineer"><meta name=view-transition content="same-origin"><title>Control your code | Karun Ramakrishnan</title>
<link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel=stylesheet><link rel=icon type=image/png sizes=32x32 href=https://www.karun.dev/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.karun.dev/images/favicon-16x16.png><link rel=stylesheet href=https://www.karun.dev/css/dist/main.css><script>(function(){const e=localStorage.getItem("theme");(e==="dark"||!e&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark")})()</script></head><body class="min-h-screen flex flex-col antialiased"><div id=progress-bar class=progress-bar style=width:0%></div><header class=w-full><nav class="max-w-3xl mx-auto px-6 h-16 flex items-center justify-end gap-6"><a href=https://www.karun.dev/posts/ class="text-sm text-secondary hover:text-[var(--text-primary)] transition-colors">Blog
</a><a href=https://www.karun.dev/resume/ class="text-sm text-secondary hover:text-[var(--text-primary)] transition-colors">Resume
</a><a href=https://www.karun.dev/about/ class="text-sm text-secondary hover:text-[var(--text-primary)] transition-colors">About
</a><button id=search-btn class="hidden sm:flex items-center gap-2 text-sm text-secondary hover:text-[var(--text-primary)] transition-colors" aria-label=Search>
<svg class="w-4 h-4" fill="none" stroke="currentcolor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
<span class="text-xs px-1.5 py-0.5 rounded bg-[var(--surface)] border border-[var(--border)]">⌘K</span>
</button>
<button id=search-btn-mobile class="sm:hidden text-secondary hover:text-[var(--text-primary)] transition-colors" aria-label=Search>
<svg class="w-5 h-5" fill="none" stroke="currentcolor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5A7 7 0 113 10a7 7 0 0114 0z"/></svg>
</button>
<button id=theme-toggle class=theme-toggle aria-label="Toggle theme"><svg class="w-5 h-5 hidden dark:block" fill="none" stroke="currentcolor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364-.707-.707M6.343 6.343l-.707-.707m12.728.0-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg><svg class="w-5 h-5 block dark:hidden" fill="none" stroke="currentcolor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg></button></nav></header><main class="flex-1 w-full max-w-3xl mx-auto px-6 py-12"><article><header class=mb-8><nav class="text-sm text-secondary mb-4"><a href=https://www.karun.dev/ class=hover:opacity-60>Home</a>
<span class=mx-2>/</span>
<a href=https://www.karun.dev/posts class=hover:opacity-60>Posts</a></nav><h1 class="text-3xl sm:text-4xl font-semibold mb-4 tracking-tight">Control your code</h1><div class="flex flex-wrap items-center gap-3 text-sm text-secondary"><time datetime=2021-12-23>December 23, 2021
</time><span>&#183;</span>
<span>2 min read</span>
<span>&#183;</span>
<span>274 words</span></div><div class="flex flex-wrap gap-2 mt-4"><a href=https://www.karun.dev/tags/programming class="px-3 py-1 text-sm rounded-full bg-[var(--surface)] text-secondary hover:opacity-60 transition-opacity">programming</a></div></header><div class="prose prose-lg max-w-none"><p>One of the things I strive for is to have full control over things that I can actually control. Life, emotions and even the code I write for a living. There will be things in life that are out of your control, so don&rsquo;t worry about those.</p><p>In the nine odd years of software engineering that I have done, I have learned to use feature toggles for code branch control. Yes, I&rsquo;m talking about dynamically controlling which code gets executed in production using an incredibly simple technique. I have used this in a lot of personal projects, too. It works!</p><p>This is a very simple example -</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#ff7b72>val</span> featureIsOn <span style=color:#ff7b72>=</span> <span style=color:#ff7b72;font-weight:700>&lt;</span>check <span style=color:#ff7b72>if</span> feature is on in the database via a cache or whatever<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>if</span> <span style=color:#ff7b72;font-weight:700>(</span>featureIsOn<span style=color:#ff7b72;font-weight:700>)</span> <span style=color:#ff7b72;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>//Do things the new way
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72;font-weight:700>}</span> <span style=color:#ff7b72>else</span> <span style=color:#ff7b72;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#8b949e;font-style:italic>//Do things the old way
</span></span></span><span style=display:flex><span><span style=color:#8b949e;font-style:italic></span><span style=color:#ff7b72;font-weight:700>}</span>
</span></span></code></pre></div><p>It is incredibly simple to do. All you need is a common database that all your services have access to, a little table of feature toggles - name and boolean columns, a stupid map that is thread safe to hold your features in memory and a thread that refreshes that map (of course you can just use whatever cache you are already using. I&rsquo;m just keeping everything simple and under my control). You can throw a UI in front of all this to turn things off and on. Toggles accumulate over time and you just clean them up once you&rsquo;ve turned them on in production and you&rsquo;re happy with it.</p><p>Later on in life you can go fancy and build more complex feature toggling capabilities.</p><p>Save yourself from sleepless nights and use feature toggles.</p></div><nav class="mt-16 pt-8"><div class="flex flex-col sm:flex-row justify-between gap-4"><a href=https://www.karun.dev/posts/eight-years-of-scala/ class="group flex-1"><span class="text-sm text-secondary">Previous</span><p class="font-medium group-hover:opacity-60 transition-opacity">Eight years of Scala</p></a><a href=https://www.karun.dev/posts/what-i-understood-from-the-movie-rrr/ class="group flex-1 text-right"><span class="text-sm text-secondary">Next</span><p class="font-medium group-hover:opacity-60 transition-opacity">What I understood from the movie - RRR</p></a></div></nav></article></main><footer class=w-full><div class="max-w-3xl mx-auto px-6 py-8 flex flex-col sm:flex-row items-center justify-between gap-4"><p class="text-sm text-secondary">&copy; 2026 Karun Ramakrishnan</p><div class="flex items-center gap-4"><a href=https://github.com/karun012/ target=_blank rel="noopener noreferrer" class="text-secondary hover:text-[var(--text-primary)] transition-colors" aria-label=Github><svg class="w-5 h-5" fill="currentcolor" viewBox="0 0 24 24"><path d="M12 0C5.374.0.0 5.373.0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931.0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176.0.0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221.0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/></svg>
</a><a href=https://www.linkedin.com/in/karunramakrishnan/ target=_blank rel="noopener noreferrer" class="text-secondary hover:text-[var(--text-primary)] transition-colors" aria-label=LinkedIn><svg class="w-5 h-5" fill="currentcolor" viewBox="0 0 24 24"><path d="M19 0H5C2.239.0.0 2.239.0 5v14c0 2.761 2.239 5 5 5h14c2.762.0 5-2.239 5-5V5c0-2.761-2.238-5-5-5zM8 19H5V8h3v11zM6.5 6.732c-.966.0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zM20 19h-3v-5.604c0-3.368-4-3.113-4 0V19h-3V8h3v1.765c1.396-2.586 7-2.777 7 2.476V19z"/></svg></a></div></div></footer><button id=back-to-top class=back-to-top aria-label="Back to top"><svg fill="none" stroke="currentcolor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0 7 7m-7-7v18"/></svg></button><div id=lightbox-backdrop class=lightbox-backdrop></div><img id=lightbox-img class=lightbox-img src alt><div id=cmd-backdrop class=cmd-palette-backdrop></div><div id=cmd-palette class=cmd-palette><input type=text id=cmd-input class=cmd-palette-input placeholder="Search posts..." autocomplete=off><div id=cmd-results class=cmd-palette-results></div><div class=cmd-palette-hint><span><kbd>↑</kbd><kbd>↓</kbd> Navigate</span>
<span><kbd>↵</kbd> Open</span>
<span><kbd>esc</kbd> Close</span></div></div><script src=https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.min.js></script><script src=https://www.karun.dev/js/main.js></script><script src=https://www.karun.dev/js/search.js></script></body></html>